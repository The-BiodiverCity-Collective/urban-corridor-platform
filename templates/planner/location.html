{% extends "_base.html" %}
{% block title %}
  {{ info }}
{% endblock %}

{% block css %}
<style>
  .list-group-item.active {
    background-color: #efefef;
    border-color: #00000020;
    color: #212529;
  }

  .icon-square {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 3rem;
      height: 3rem;
      font-size: 1.5rem;
      border-radius: .75rem;
  }

  .fadeout {
    opacity:0.4;
  }

  #map {
    height: 800px;
  }

  .leaflet-container .leaflet-popup-content a {
    color:#fff
  }
</style>
{% endblock %}

{% block content %}

<div class="relative">
  <div class="mt-3 flex md:absolute md:top-3 md:right-0 md:mt-0">
    <a href="../" class="btn-white">{{ _("Back") }}</a>
    <button type="submit" class="ml-4 btn-green cursor-pointer">{{ _("Save") }}</button>
  </div>

  <h2 class="mb-0">
    <a href="{% url "rgm" garden.id %}" class="text-gray-500 opacity-70"><i class="fas fa-shovel"></i> {{ _("Garden Manager") }}</a>
  </h2>
  <h1 class="mb-10 ml-5"> 
  <i class="fas fa-chevron-right"></i>
  {{ _("Location") }}
  </h1>

</div>

<div>
  {{ info.get_content }}
</div>

<div class="mb-4 rounded shadow-sm" id="map">
</div>

{% endblock %}

{% block js %}
<script type="text/javascript">
	var popup = L.popup();

	function onMapClick(e) {
		popup
			.setLatLng(e.latlng)
			.setContent("Confirm location?<br><br><a href='./?lat=" + e.latlng.lat + "&amp;lng=" + e.latlng.lng + "' class='btn btn-green'>Confirm</a>")
			.openOn(map);
	}

	map.on('click', onMapClick);
</script>
{% endblock %}
