{% extends "_base.html" %}

{% block css %}
<style>
  #map {
    height: 80vh;
    position: sticky !important;
    top: 1rem;
  }

  .single-garden img {
    width: 100%;
    height: 100px;
    object-fit: cover;
  }
</style>
{% endblock %}

{% block content %}

  <h1>{{ page }}</h1>
  {{ page.get_content }}

  <div class="border rounded bg-white shadow-sm p-3 d-inline-block mb-4">
    <i class="fal fa-fw fa-info-circle me-1"></i> We currently have <strong>{{ gardens.count }}</strong> gardens in our network.
  </div>

  <ul role="list" class="grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 lg:grid-cols-4 xl:gap-x-8">
  {% for each in gardens %}
    <li class="relative">
      <div class="group overflow-hidden rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 focus-within:ring-offset-gray-100">
        <img src="{{ each.thumbnail }}" alt="" class="pointer-events-none w-full h-full object-cover group-hover:opacity-75" style="height:210px">
        <a class="absolute inset-0 focus:outline-none" href="{{ each.get_absolute_url }}" title="{{ _("Image credits") }}: {{ each.photo.author }}">
        </a>
      </div>
      <p class="pointer-events-none mt-2 block truncate text-sm font-medium text-gray-900">{{ each.name }}</p>
      <p class="pointer-events-none block text-sm font-medium text-gray-500"><em>{{ each.suburb }}</em></p>
    </li>
  {% endfor %}
  </ul>

  <div class="mt-4 pt-5">
    <table class="table datatable mt-4">
      <thead>
        <tr>
          <th>Name</th>
          <th>Suburb</th>
          <th>Vegetation type</th>
          <th>Organisation(s)</th>
        </tr>
      </thead>
      <tbody>
      {% for each in gardens %}
        <tr>
          <td><a class="text-decoration-none" href="{% url 'garden' each.id %}">{{ each }}</a></td>
          <td>{{ each.suburb }}</td>
          <td>{{ each.vegetation_type }}</td>
          <td>
            <ul class="list-unstyled">
            {% for org in each.organizations.gardens %}
              <li>
              <span class="badge bg-secondary">
                {{ org }}
              </span>
              </li>
            {% endfor %}
            </ul>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>

{% endblock %}
